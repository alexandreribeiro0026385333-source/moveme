<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cadastro de Veículo</title>
<style>
    /* LOGO MOVEME */
    .logo {
        color: red;
        font-size: 24px;
        font-weight: bold;
        text-align: center;
        margin-bottom: 10px;
    }
    
    body { 
        font-family: Arial; 
        display: flex; 
        justify-content: center; 
        align-items: center; 
        height: 100vh; 
        background: #f4f4f4; 
        margin: 0; 
    }
    .container { 
        background: #fff; 
        padding: 20px; 
        border-radius: 8px; 
        box-shadow: 0 0 10px rgba(0,0,0,0.1); 
        width: 400px; 
        max-height: 90vh; 
        overflow-y: auto;
    }
    h2 { 
        text-align: center; 
        margin-bottom: 20px; 
    }
    input, select, button { 
        width: 100%; 
        padding: 10px; 
        margin: 8px 0; 
        border-radius: 4px; 
        border: 1px solid #ccc; 
        box-sizing: border-box; 
    }
    button { 
        background: #007bff; 
        color: #fff; 
        border: none; 
        cursor: pointer; 
        padding: 12px;
    }
    button:hover { 
        background: #0056b3; 
    }
    #msg { 
        text-align: center; 
        margin-top: 10px; 
        color: #333; 
    }
    
    /* RODAPÉ */
    .footer {
        text-align: center;
        font-size: 10px;
        color: #666;
        margin-top: 15px;
        padding-top: 10px;
        border-top: 1px solid #eee;
    }
</style>
</head>
<body>
<div class="container">
    <div class="logo">MOVEME</div>
    <h2>Cadastro de Veículo</h2>
    <form id="cadForm">
        <input type="number" id="ano" placeholder="Ano">
        <input type="number" id="condutor_id" placeholder="ID do Condutor">
        <input type="text" id="cor" placeholder="Cor do Veículo">
        <input type="text" id="placa" placeholder="Placa do Veículo">
        <input type="text" id="renavam" placeholder="RENAVAM">
        <input type="text" id="cpf" placeholder="CPF do Condutor">
        
        <select id="tipo">
            <option value="">Selecione o Tipo</option>
            <option value="carro">Carro</option>
            <option value="moto">Moto</option>
            <option value="caminhao">Caminhão</option>
            <option value="bike">Bike</option>
        </select>
        
        <input type="text" id="modelo" placeholder="Modelo do Veículo">
        <input type="text" id="condutor" placeholder="Nome do Condutor">
        
        <button type="submit">Cadastrar Veículo</button>
    </form>
    <p id="msg"></p>
    
    <div class="footer">
        @Rights Alexandre Ribeiro DeepSeek Gemini ChatGPT5 André Bonotto
    </div>
</div>

<script>
const form = document.getElementById('cadForm');
const msg = document.getElementById('msg');

form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const data = {
        ano: document.getElementById('ano').value ? parseInt(document.getElementById('ano').value) : null,
        condutor_id: document.getElementById('condutor_id').value ? parseInt(document.getElementById('condutor_id').value) : null,
        cor: document.getElementById('cor').value.trim() || null,
        placa: document.getElementById('placa').value.trim() || null,
        renavam: document.getElementById('renavam').value.trim() || null,
        cpf: document.getElementById('cpf').value.trim() || null,
        tipo: document.getElementById('tipo').value || null,
        modelo: document.getElementById('modelo').value.trim() || null,
        condutor: document.getElementById('condutor').value.trim() || null
    };

    try {
        // ATUALIZE COM SUA URL DO BACKEND
const res = await fetch('https://moveme-backend-v80p.onrender.com/veiculos', {
                   method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        });

        if (res.ok) {
            msg.textContent = "Veículo cadastrado com sucesso!";
            msg.style.color = "green";
            form.reset();
        } else {
            const error = await res.json();
            msg.textContent = error.error || "Erro ao cadastrar";
            msg.style.color = "red";
        }
    } catch(err) {
        msg.textContent = "Erro de conexão";
        msg.style.color = "red";
        console.error('Erro:', err);
    }
});
</script>
</body>
</html>
